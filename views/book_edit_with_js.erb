<body>
  <h1>Editing Book (with JavaScript)</h1>
  <form action="/books/<%= @book['id'] %>/save" method="post" >
    <p>
      <b>Title:</b>
      <input id="title" name="title" value="<%= @book['title'] %>" placeholder="Enter book title" />
      <span id="title-required" class="required-field-message"></span>
    </p>
    <p>
      <b>Author:</b>
      <input id="author" name="author" value="<%= @book['author'] %>" placeholder="Enter book author" />
    </p>
    <p>
      <b>Year:</b>
      <input id="year" name="year" value="<%= @book['year'] %>" />
    </p>
    <p>
      <input id="saveButton" name="saveButton" type="submit" value="Save" />
    </p>
  </form>

  <script>
    /*
     * When the "saveButton" is clicked...
     */
     document.getElementById("saveButton").addEventListener("click", (event) => {

      const titleEl = document.getElementById("title");
      if (titleEl.value.trim() === "") {
        const messageEl = document.getElementById("title-required");
        messageEl.innerHTML = "This field is required";
        event.preventDefault();
      } else {
        messageEl.innerHTML = "";
      }

    });
  </script>
</body>
